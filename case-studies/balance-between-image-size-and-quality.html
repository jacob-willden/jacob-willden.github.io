<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self';">
    <title>Jacob Willden - Finding the Balance between Image File Size and Quality</title>
    <meta name="description" content="How do you make images take up as little space as possible while still looking good? Here's my best try at solving it.">
    <meta name="color-scheme" content="light dark">
    <link href="../css/style.css" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
</head>
<body>
    <header>
        <nav>
            <h1>
                <a href="../index.html">
                    <img srcset="../logo-1x.png 1x, ../logo-2x.png 2x, ../apple-touch-icon.png 3x" src="../apple-touch-icon.png" alt="" width="60" height="60">
                    <span>Jacob Willden</span>
                </a>
            </h1>
        </nav>
    </header>
    <main>
        <article>
            <h1>Finding the Balance between Image File Size and Quality</h1>

            <!-- Hero Image -->

            <h2>Introduction</h2>
            <p>There are many kinds of digital image formats available, but each one comes with its own advantages and disadvantages. To see how the compression of various formats affects image quality and size, I imported four provided images in uncompressed or lossless formats into Adobe Photoshop and then exported them using multiple methods and settings. The Navajo Dancer image was 6000 by 4000 pixels, while the others were 4240 by 2832.</p>

            <!-- images -->

            <p>Photoshop provides several different ways to export images, including "Save As", "Export As", "Save for Web (Legacy)", "Save Copy", and so on. Each export method has a different interface, and yield slightly different results, in file size and sometimes visual quality (even at the same export quality level). I used a mixture of these methods to get enough data.</p>

            <h2>JPEG</h2>
            <p>The JPEG format utilizes lossy compression to achieve smaller file sizes by discarding some of the image data. Each of Photoshop's main export methods provide a way to decide how compressed a JPEG will be, but the conventions for specifying the compression level are inconsistent across the various export methods.</p>
            <p>For the Save As method, I chose the 0 (lowest), 4, 8, and 12 (highest) quality levels. For the Export As method, I chose 1 (lowest), 3, 5, and 7 (highest) for the quality. For the Save for Web method, I chose 0 (lowest), 30, 60, and 100 (highest).</p>

            <h2>PNG</h2>
            <p>The PNG format only uses lossless compression, which means no image data is lost, at the cost of a larger file size. It also supports transparency, which JPEG doesn't. Images can be exported from Photoshop as PNGs using Save As, Export As, and Save for Web, similarly to JPEGs.</p>
            <p>For the Save As method, you have the 3 options: large file size (fastest saving), medium file size (medium saving), and smallest file size (slowest saving). The Export As method provides saving with or without transparency, a choice that Save As does not offer. It also allows for either as 8-bit or 24-bit, though the later is not stated in Photoshop. This is probably because adding transparency means additional bits, so the maximum bit depth without transparency is 24-bit, while the maximum is 32-bit with transparency, according to <a href="https://community.adobe.com/t5/lightroom-classic-discussions/export-png-in-full-quality-and-original-size/td-p/11185354">a post by Conrad C on Adobe Support Community</a>. Lastly, Save for Web offers presets for 8-bit and 24-bit PNGs, as well as the option to either include an alpha channel (transparency) or not.</p>
            <p>In conducting the study with this format, I exported each test image under the large, medium, and small file size settings with Save As, and under the 8-bit and 24-bit settings with both Export As and Save for Web. An alpha channel was included whenever the export dialogs allowed for it (only with Export As and Save for Web).</p>

            <h2>JPEG 2000</h2>
            <p>JPEG 2000 is a newer format developed by the Joint Photographic Experts Group to be a successor to JPEG. In addition to compressing more efficiently, it also supports progressive downloading, meaning a lower-quality version of the image can be displayed while the higher-quality version loads, transparency, and the option to use either lossy or lossless compression. However, this format has limited browser compatibility. Safari supports it, but other major browsers like Chrome, Firefox, Edge, and Opera don't. According to <a href="https://cloudinary.com/blog/the_great_jpeg_2000_debate_analyzing_the_pros_and_cons_to_widespread_adoption">an article by Prosper Otemuyiwa on the Cloudinary Blog</a>, the format also needs greater device processing power for encoding.</p>
            <p>The format can be exported from Photoshop using the Save As method, but not Export As or Save for Web. Options include saving in a lossless or lossy format, and if you choose lossy, then you can choose the quality level, between 0 and 100. Each test image was exported to JPEG 2000 using lossy compression, with quality levels of 0, 40, 60, and 100, and then using lossless compression.</p>

            <h2>GIF</h2>
            <p>The GIF format supports animations and transparency, is lossless, and can only have up to 256 colors. It can be exported from Photoshop in a number of ways, including the usual Save As, Export As, and Save for Web. Practically all of the options for Save As focus on how the images colors will be reduced to 256. Export As does not provide any additional options for GIF that it doesn't provide for other export formats. Save for Web contains many similar options for the GIF format as Save As, including color reduction through techniques such as dithering (a way for selecting which colors are kept and which are discarded), and whether to include transparency or not.</p>

            <h2>WebP</h2>
            <p>WebP is an image format designed for the Web. Like the JPEG 2000 format, WebP can be exported either lossless or lossy via Photoshop, and in the case of lossy compression, you can choose the quality level between 0 and 100. The Save As, Export As, and Save for Web do not provide WebP as an export format. However, the Save A Copy menu item does allow for it. I exported the test images under the quality levels of 0, 30, 60, and 100 with lossy compression, and then with lossless compression. It's worth noting that while WebP images can have an alpha channel, according to <a href="https://developers.google.com/speed/webp/">an article from Google</a>, Photoshop doesn't appear to provide a way to export WebP images with transparency.</p>

            <h2>How Device Storage Works</h2>
            <p>Every computer-based device has a finite amount of space to store information. At the smallest level, this information is stored in binary, which is a series of zeros and ones. Each zero and one in binary is called a bit, and eight bits constitutes a byte. Due to mathematics, we measure computer storage based on units such as Kilobyte (1024 bytes), Megabyte (1024 Kilobytes), Gigabyte (1024 Megabytes), Terabyte (1024 Gigabytes), Petabytes (1024 Terabytes), Yottabytes (1024 Petabytes), and so on.</p>

            <!-- images -->

            <h2>Evaluation</h2>
            <p>If the export quality for an image is turned up too high, the file size will be much larger than necessary, and with little to no increase in perceptible visual quality. On the other hand, while turning down the export quality with higher compression means a smaller file size, the visual quality loss is usually obvious. Therefore, optimizing image files involves finding a balance between size and export quality.</p>
            <p>For each of the aforementioned sample images, I chose 2 areas (each 100 x 100 pixels) to evaluate up close in order to see how the pixels within these areas were affected by the different export formats and settings. The areas were chosen based on having attributes like sharp lines and small differences in color variation. One is depicted in the following section.</p>

            <h2>Format Comparison Reference</h2>
            <p>The reference below is meant to act as a quick guide to how various image formats and their compression settings affect file size and quality. I included the first crop from the Hanzhou Street image because it has sharp lines, subtle changes in color, and patterns, making it an ideal candidate for seeing the visual differences due to compression. The RAW format refers to the original image captured on the camera before compression.</p>

            <!-- image -->

            <h2>How Compression Affected the Images</h2>
            <p>When comparing file sizes and quality, it's most helpful to look at lossy and lossless exports separately, hence the separate charts for the two. In the realm of lossy formats, WebP consistently achieved the smallest file size for the level of compression, with JPEG 2000 usually achieving 2nd place and JPEG in 3rd place, though there were exceptions. For example, the JPEG Export As method at level 5 quality (from 1 to 7) resulted in a smaller file size than JPEG 2000 Save As at 60% quality.</p>
            <p>In the realm of lossless formats, PNG proved to have the largest file size, mostly likely because it's the oldest lossless format and its specifications haven't been updated for many years. It's worth noting that the PNG images had a larger file size than the original RAW images, almost certainly due the same reason. GIF always had the smallest file sizes, though that's almost certainly because exporting to the GIF format reduces the image to 256 colors. JPEG 2000 and WebP using lossless compression were neck and neck, with one getting a smaller file size with one image, and the other with another.</p>
            <p>At quality level 0, WebP had significant differences in color. JPEG had obvious tiling at this level, which means that the image is divided into small squares that are just gradients of color. JPEG 2000's alterations for the 0% quality level did not appear to have tiling, but the details were still blurred. GIF's limited color palette was particularly clear with the Navajo Dancer image, as shading was turned from small shifts in color into isolated pixels of color. The Save As method for GIF also introduced some color shifting in the Hanzhou Street image.</p>

            <h2>But What's the Best?</h2>
            <p>If you want to find an effective balance between quality and file size, it depends on what format you're using, and what image you're working with. As far as JPEG images go, about 60% quality seems to be the sweet spot because the difference in visual quality between it and 100% quality is just about negligible (meaning that having a higher quality takes up unnecessary space for a file with lossy compression), while going for a lower level of quality is when artifacts begin to become visible. For WebP and JPEG 2000 (lossy), compression at 60% is slightly more noticeable, so somewhere between 60% and 100% is probably the sweet spot.</p>
            <p>For lossless images, you don't have the option to choose between quality levels, so other factors can affect file size and apparent quality. GIFs only have 256 colors, which works just fine in some circumstances, but may not be ideal in other circumstances. PNG's export options mostly come through choosing how quickly an image will be opened, with a slightly smaller file size if the decoding process takes longer.</p>
            <p>Finally, if you're working with images that use sharp lines like schematics, using lossless imagery can be a good idea as some of that sharpness will be lost with lossy compression, even at 100%. Also, when saving lossy, the pixel values are recalculated every time, so you lose some additional quality on each successive save. Therefore, it's wise to save in a lossless format while editing an image extensively, and then finally exporting in a lossy format if you're planning on sharing the image on the Web. File size matters particularly on the Web, so finding the right balance between it and image quality is paramount, and it may take some experimentation.</p>
            <p>While my findings can act as a good general guide for using formats, most of these formats continue to undergo changes in their specification (PNG being an exception) and the compression algorithms may change over time, usually for the better. Plus, different images work best with different formats. So the best way to know what format, export method, and compression type and levels are best for your image is to experiment with and evaluate different kinds of exporting for that image.</p>

            <footer>
                <p>Jacob Willden is a student in the Digital Media program at Utah Valley University, which is located in Orem, Utah, studying Web & App Development. This article relates to Optimizing Images in the DGM 2341 course and representative of the skills learned. The sample images were provided by Michael Harper.</p>
            </footer>
        </article>
    </main>
    <footer>
        <address></address>
    </footer>
</body>
</html>